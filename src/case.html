<!DOCTYPE html>
<html lang="fr">

  <div id="contenu"></div>
  <div id="avertissement">
    ğŸ Ce cadeau ne sera disponible que le <span id="dateJour"></span> dÃ©cembre !<br>
    Reviens Ã  la bonne date ğŸ˜‰
  </div>
  <script>
    // RÃ©cupÃ¨re le numÃ©ro du jour depuis l'URL
    const params = new URLSearchParams(window.location.search);
    const jour = Number(params.get('jour'));
    const today = new Date();
    // === Astuce pour testÂ : dÃ©commente la ligne suivante pour simuler une date ==== 
    today.setMonth(11); today.setDate(6); // 0=jan, 6=dÃ©c

    // VÃ©rifie si la case est "ouverte" Ã  la bonne date
    const estOuvert = (today.getMonth() + 1 > 12) || (today.getMonth() + 1 === 12 && today.getDate() >= jour);

    if (!estOuvert) {
      document.getElementById('contenu').style.display = "none";
      document.getElementById('avertissement').style.display = "block";
      document.getElementById('dateJour').textContent = jour || "?";
    } else {
      // Affichage du contenu seulement au bon jour
      document.getElementById('avertissement').style.display = "none";
      fetch('contenus.json')
        .then(response => {
          if (!response.ok) throw new Error('Erreur de chargement du contenu !');
          return response.json();
        })
        .then(contenus => {
          const zone = document.getElementById('contenu');
          if (contenus[jour]) {
            zone.innerHTML = contenus[jour];
          } else {
            zone.textContent = 'Aucune information pour ce jour.';
          }
        })
        .catch(() => {
          document.getElementById('contenu').textContent = "Le calendrier n'est pas accessible.";
        });
    }
  </script>

</html>
